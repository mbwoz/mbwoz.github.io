import{d as u,c as _,a as r,F as h,r as S,o as d,t as f,_ as i,p as y,b as C,e as p,f as g,n as $,g as k,l as x,h as T,u as b,A as F}from"./index-998e2b33.js";const I={class:"select"},A=["value"],B=u({__name:"SelectField",props:{selected:null,options:null},emits:["onChange"],setup(e){return(t,s)=>(d(),_("div",I,[r("select",{value:e.selected,onChange:s[0]||(s[0]=o=>t.$emit("onChange",o))},[(d(!0),_(h,null,S(e.options,o=>(d(),_("option",{key:o},f(o),1))),128))],40,A)]))}});const L=i(B,[["__scopeId","data-v-4e62797b"]]),R=u({__name:"SubmitButton",props:{label:null},emits:["onClick"],setup(e){return(t,s)=>(d(),_("div",null,[r("button",{onClick:s[0]||(s[0]=o=>t.$emit("onClick"))},f(e.label),1)]))}});const w=i(R,[["__scopeId","data-v-bd87ce87"]]),O=e=>(y("data-v-facfb564"),e=e(),C(),e),E=O(()=>r("p",{class:"cross"},"âœ•",-1)),N=u({__name:"RemovableTag",props:{tag:null},emits:["removeTag"],setup(e){return(t,s)=>(d(),_("div",{class:"tag",onClick:s[0]||(s[0]=o=>t.$emit("removeTag",e.tag))},[r("p",null,f(e.tag),1),E]))}});const V=i(N,[["__scopeId","data-v-facfb564"]]),z={class:"form"},D={class:"tag-select"},P={class:"tag-submit"},j=u({__name:"SearchForm",props:{form:null,tags:null},emits:["addTag","removeTag"],setup(e,{emit:t}){const s=e,o=p(""),m=l=>{const a=l.target;o.value=a.value},v=()=>{const l=o.value;l!==""&&s.form.selectedTags.indexOf(l)===-1&&(o.value="",t("addTag",l))};return(l,a)=>(d(),_("div",null,[r("div",z,[r("div",D,[g(L,{selected:o.value,options:e.tags,onOnChange:m},null,8,["selected","options"])]),r("div",P,[g(w,{label:"Add tag",onOnClick:v})])]),r("div",{class:$(["tags",e.form.selectedTags.length>0?"tags-non-empty":""])},[(d(!0),_(h,null,S(e.form.selectedTags,n=>(d(),k(V,{key:n,tag:n,onRemoveTag:c=>l.$emit("removeTag",c)},null,8,["tag","onRemoveTag"]))),128))],2)]))}});const q=i(j,[["__scopeId","data-v-fb66b095"]]),G={class:"form"},H=u({__name:"TagSearch",setup(e){const t=p({selectedTags:[]}),s=p([]);Promise.resolve(x()).then(a=>s.value=a);const o=T(()=>{const a=new Set;return s.value.forEach(n=>n.tags.forEach(c=>a.add(c.toLocaleLowerCase()))),Array.from(a).sort((n,c)=>n.localeCompare(c))}),m=T(()=>s.value.filter(a=>{const n=a.tags.map(c=>c.toLocaleLowerCase());return t.value.selectedTags.every(c=>n.indexOf(c)!==-1)})),v=a=>{t.value.selectedTags=[...t.value.selectedTags,a]},l=a=>{t.value.selectedTags=t.value.selectedTags.filter(n=>n!==a)};return(a,n)=>(d(),_("div",null,[r("div",G,[g(q,{form:t.value,tags:b(o),onAddTag:v,onRemoveTag:l},null,8,["form","tags"])]),g(F,{articles:b(m)},null,8,["articles"])]))}});const K=i(H,[["__scopeId","data-v-146aeebe"]]);export{K as default};
